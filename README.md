# ferandom90.github.io

This JavaScript script involves data visualization using D3.js. It includes functions for fetching data from an API, updating plots and demographic information based on user input, and rendering bar and bubble charts.
The code initializes two global maps, individuals and individuals_samples, which are used to store individual data and individual samples, respectively.
The get_individuals_data function is defined, which returns a promise. It uses XMLHttpRequest to make an asynchronous GET request to a specified URL and retrieves data in JSON format. Once the data is obtained, it populates the individuals and individuals_samples maps with the retrieved data and resolves the promise with the individuals map.
The window.addEventListener("load", async () => { ... }) block is executed when the window loads. It awaits the get_individuals_data function to fetch the data and then populates a select element (<select>) with options based on the keys in the individuals map. It also calls the optionChanged function with the default selected value.
The optionChanged function is called when the selected value of the dropdown changes. It takes the selected value (id) as a parameter and calls three functions: show_demographic_info, plot_bar_chart, and plot_bubble_chart, passing the id as an argument.
The show_demographic_info function is responsible for displaying demographic information based on the selected individual's id. It clears the existing content of the sample-metadata element and appends new <p> elements with the individual's attributes to display their demographic information.
The plot_bar_chart function is used to generate a bar chart based on the selected individual's id. It first clears the existing content of the bar-chart element. Then, it retrieves the sample values, OTU IDs, and OTU labels for the selected individual from the individuals_samples map. Using D3.js, it creates SVG elements to represent bars based on the sample values and OTU IDs, and adds axes and gridlines to the chart. Additionally, it sets up an event listener for hovering over the bars to display the corresponding OTU label.
The plot_bubble_chart function is responsible for generating a bubble chart based on the selected individual's id. Similar to plot_bar_chart, it clears the existing content of the bubble element. It processes the OTU IDs, sample values, and OTU labels for the selected individual from the individuals_samples map and creates an SVG element to represent circles as bubbles. It also sets up event listeners for hovering over the bubbles to display the corresponding OTU label.
Overall, this code sets up event listeners, fetches data, and generates visualizations based on the selected individual's id. It uses D3.js to manipulate SVG elements and handle user interactions for data visualization.

